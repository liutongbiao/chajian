<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <!-- <link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
</head>
<style>
    * {
        -webkit-touch-callout: none;
        /*系统默认菜单被禁用*/
        -webkit-user-select: none;
        /*webkit浏览器*/
        -khtml-user-select: none;
        /*早期浏览器*/
        -moz-user-select: none;
        /*火狐*/
        -ms-user-select: none;
        /*IE10*/
        user-select: none;
    }

    * {
        padding: 0;
        margin: 0;
    }

    ul {
        list-style: none;
    }


    .clender {
        width: 100%;
        background-color: #ccc;
        
    }
  


</style>

<body>
    <div class="clender"></div>
 
</body>
<script src="./jQuery-v1.7.2.js"></script>
<script src="./clender.js"></script>
<script>
    var obj = {
        info: [
            {
                time: "2019-12-6",
                title: '演出'
            },
            {
                time: "2019-12-9",
                title: '哈哈'
            },
            {
                time: "2020-3-18",
                title: '发士大'
            },
            {
                time: "2019-12-27",
                title: '演出'
            },
        ],
        // clickColor:'pink',
        // weekBackgroundColor:'red',
        on:function(res){
             console.log(res);
            //  console.log(new Date("2019-12-7"))
        }

    }


    // function Clender(el, obj) {
    //     var clickColor=obj.clickColor?obj.clickColor:'red';
    //     var weekBackgroundColor=obj.weekBackgroundColor?obj.weekBackgroundColor:'rgb(221, 221, 221)';
    //     var that = this;
    //     var num = 0;
    //     var html = '';

    //     this.el = $(el);
    //     this.nowtime = new Date();
    //     this.nowtime.YY = this.nowtime.getFullYear();
    //     this.nowtime.MM = this.nowtime.getMonth() + 1;
    //     this.nowtime.DD = this.nowtime.getDate();
    //     this.nowtime.hh = this.nowtime.getHours();
    //     this.nowtime.mm = this.nowtime.getMinutes();
    //     this.nowtime.ss = this.nowtime.getSeconds();

    //     var year = this.nowtime.YY;
    //     var month = this.nowtime.MM;
    //     var month1 = [1, 3, 5, 7, 8, 10, 12], month2 = [4, 6, 9, 11];

    //     var html = '<div class="clender_box">';
    //     html += '<div class="clender_header">';
    //     html += '<span class="clender_prem"> < </span>';
    //     html += '<h1><span class="clender_year"></span>年 <span class="clender_month"></span>月</h1>';
    //     html += '<span class="clender_nextm"> > </span></div>';
    //     html += '<div class="clender_week">';
    //     html += '<span>日</span><span>一</span><span>二</span><span>三</span><span>四</span><span>五</span><span>六</span>';
    //     html += '</div><ul class="clender_day"></ul></div>';
    //     this.el.html(html);

    //     html_fn();

    //     function html_fn() {

    //         var li_html = '';

    //         if (month1.indexOf(month) !== -1) {
    //             num = 31;
    //         } else if (month2.indexOf(month) !== -1) {
    //             num = 30;
    //         } else {
    //             if (year % 4) {
    //                 num = 28;
    //             } else {
    //                 num = 29;
    //             }
    //         }

    //         for (let i = 0; i < num; i++) {
    //             if(i<that.nowtime.DD&&that.nowtime.MM==month&&that.nowtime.YY==year){
    //                 li_html += '<li style="color:#999">' + (i - 0 + 1) + '</li>'
    //             }else{
    //                 li_html += '<li>' + (i - 0 + 1) + '</li>'
    //             }
                
    //         }
    //         that.el.find('.clender_day').html(li_html);

    //         if (year == that.nowtime.YY && month == that.nowtime.MM) {
    //             that.el.find(".clender_box .clender_day").children().eq(that.nowtime.DD - 1).css({
    //                 color: "red"
    //             }).html("今日");
    //         }

    //         for (let item of obj.info) {
    //             if (item.time.split("-")[0] == year && item.time.split("-")[1] == month) {
    //                 var dd = item.time.split("-")[2];
    //                 var html = "<span class='notes'>" + item.title + "</span>";
    //                 that.el.find('.clender_day').children().eq(dd - 1).append(html);
    //             }
    //         }

    //         var date = new Date(year, (month - 1), 1)
    //         that.el.find('.clender_day').children().eq(0).css({
    //             marginLeft: date.getDay() * that.el.width() / 7
    //         })


    //         that.el.find(".clender_box .clender_year").text(year);
    //         that.el.find(".clender_box .clender_month").text(month);

    //         that.el.find('.clender_header').css({
    //             display: "flex",
    //             justifyContent: " space-around",
    //             position: " relative",
    //             alignItems: ' center',
    //         })
    //         that.el.find('.clender_header > span').css({
    //             width: " 20px",
    //             height: " 20px",
    //             lineHeight: "20px",
    //             textAlign: "center"
    //         })
    //         that.el.find('h1').css({
    //             fontWeight: 500,
    //             fontSize: ' 16px',
    //             padding: '5px 0'
    //         })
    //         that.el.find('.clender_week').css({
    //             display: 'flex',
    //             backgroundColor:weekBackgroundColor
    //         })
    //         that.el.find(' .clender_week > span').css({
    //             flex: 1,
    //             textAlign: " center"
    //         })
    //         that.el.find('.clender_box').css({
    //             width: " 100%",
    //             paddingBottom: "5px"
    //         })
    //         that.el.find('.clender_day').css({
    //             display: " flex",
    //             flexWrap: "wrap",
    //             fontSize: '16px'
    //         })
    //         that.el.find('.clender_day>li').css({
    //             width: that.el.width() / 7,
    //             height: "36px",
    //             lineHeight: "36px",
    //             textAlign: "center",
    //             borderRadius: "50%",
    //             position: "relative",
    //             zIndex: 5,
    //             boxSizing:"border-box",
    //             border: "1px solid rgba(255, 255, 255,0)"

    //         })
         
    //         that.el.find('.clender_day>li .notes').css({
    //             position: 'absolute',
    //             fontSize: ' 12px',
    //             top: '14px',
    //             left: '50%',
    //             transform: ' translateX(-50%)',
    //             color: '#999',
    //             zIndex: -1,
    //             width: '100%',
    //             height: '12px'
    //         })

    //     }

    //     this.el.find('.clender_day').on("click","li",function () {

    //         if(new Date(year+'-'+month+'-'+($(this).index()+1)).getTime()>that.nowtime.getTime()-1000*60*60*24){
    //            obj.on(year+'-'+month+'-'+($(this).index()+1));
    //         $(this).css({
    //             borderStyle:'solid',
    //             borderColor:clickColor,
    //             borderwidth:'1px',
    //         }).siblings().css({
    //             border: "1px solid rgba(255, 255, 255,0)"
    //         }) 
    //         }    
    //     })

    //     this.el.find('.clender_prem').click(function () {
    //         set('prem');
    //         html_fn();
    //     })
    //     this.el.find('.clender_nextm').click(function () {
    //         set('nextm');
    //         html_fn();
    //     })


    //     function set(set) {
    //         switch (set) {
    //             case 'prem':

    //             if(that.nowtime.YY>=year&&that.nowtime.MM>=month){
    //             }else{
    //                 month--;
    //                 if (month < 1) {
    //                     month = 12;
    //                     year--;
    //                     that.el.find(".clender_box .clender_year").text(year);
    //                 }
    //                 that.el.find(".clender_box .clender_month").text(month);
    //             }  
    //                 break;

    //             case 'nextm':
    //                 month++;
    //                 if (month > 12) {
    //                     month = 1;
    //                     year++;
    //                     that.el.find(".clender_box .clender_year").text(year);
    //                 }
    //                 that.el.find(".clender_box .clender_month").text(month);
    //                 break;
    //         }

    //     }
    // }

    var ad = new Clender(".clender", obj);


 


</script>

</html>